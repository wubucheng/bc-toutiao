<?xml version="1.0"?>
<!DOCTYPE mycat:schema SYSTEM "schema.dtd">
<mycat:schema xmlns:mycat="http://io.mycat/">
	
	<schema name="bc_toutiao_mycat" checkSQLschema="true" sqlMaxLimit="100">
		<!-- 全局表 -->
		<!-- 通用调度器quartz服务的调度表 -->
		<table name="QUARTZ_QRTZ_BLOB_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_CALENDARS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_CRON_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_FIRED_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_JOB_DETAILS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_LOCKS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_PAUSED_TRIGGER_GRPS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_SCHEDULER_STATE" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_SIMPLE_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_SIMPROP_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="QUARTZ_QRTZ_TRIGGERS" dataNode="DNSQ" type="global"/>
		<!-- 通用调度器quartz服务的调度表 -->
		<table name="CRAWLER_QRTZ_BLOB_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_CALENDARS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_CRON_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_FIRED_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_JOB_DETAILS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_LOCKS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_PAUSED_TRIGGER_GRPS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_SCHEDULER_STATE" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_SIMPLE_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_SIMPROP_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="CRAWLER_QRTZ_TRIGGERS" dataNode="DNSQ" type="global"/>
		<!-- 通用调度器MIGRATION_QRTZ服务的调度表 -->
		<table name="MIGRATION_QRTZ_BLOB_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_CALENDARS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_CRON_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_FIRED_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_JOB_DETAILS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_LOCKS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_PAUSED_TRIGGER_GRPS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_SCHEDULER_STATE" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_SIMPLE_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_SIMPROP_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="MIGRATION_QRTZ_TRIGGERS" dataNode="DNSQ" type="global"/>
		<!-- 通用调度器ADMIN_QRTZ服务的调度表 -->
		<table name="ADMIN_QRTZ_BLOB_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_CALENDARS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_CRON_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_FIRED_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_JOB_DETAILS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_LOCKS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_PAUSED_TRIGGER_GRPS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_SCHEDULER_STATE" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_SIMPLE_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_SIMPROP_TRIGGERS" dataNode="DNSQ" type="global"/>
		<table name="ADMIN_QRTZ_TRIGGERS" dataNode="DNSQ" type="global"/>
		<!-- app_info -->
		<table name="ap_article" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long"/>
		
		<table name="ap_article_config" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_article_content" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_article_label" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />

		<table name="ap_dynamic" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_comment" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_comment_repay" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long"/>

		<table name="ap_user_identity" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_realname" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_info" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />

		<table name="ap_user_equipment" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />

		
		<table name="ap_user_follow" dataNode="DNAP_$0-2" rule="mod-long" />
		<table name="ap_user_fan" dataNode="DNAP_$0-2"  rule="mod-long" />

		<table name="ap_user_channel" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_article_list" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_dynamic_list" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_letter" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_message" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_search" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<table name="ap_user_feedback" dataNode="DNAP_$0-2" autoIncrement="true" primaryKey="id" rule="mod-long" />
		<!--addtional-->
		<table name="ap_author" dataNode="DNAP_0" autoIncrement="true" primaryKey="id" />
		<!--add 2-->
		<table name="ap_associate_words" dataNode="DNAP_0"/>
		<table name="ap_hot_words" dataNode="DNAP_0"/>
		<table name="ap_hot_articles" dataNode="DNAP_0"/>


		<!-- app_behavior -->
		<table name="ap_show_behavior" dataNode="DNBE_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<table name="ap_unlikes_behavior" dataNode="DNBE_0" autoIncrement="true" primaryKey="id"/>
		<table name="ap_follow_behavior" dataNode="DNBE_1" autoIncrement="true" primaryKey="id"/>
		<table name="ap_share_behavior" dataNode="DNBE_2" autoIncrement="true" primaryKey="id"/>
		<table name="ap_login_behavior" dataNode="DNBE_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<table name="ap_equipment" dataNode="DNBE_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<table name="ap_equipment_code" dataNode="DNBE_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<table name="ap_forward_behavior" dataNode="DNBE_2" autoIncrement="true" primaryKey="id"/>
		<!-- 特殊处理下面四个，原来为burst5050，后面再改回来 -->
		<table name="ap_behavior_entry" dataNode="DNBE_$0-2" rule="mod-long"/>
		<table name="ap_collection" dataNode="DNBE_$0-2" rule="mod-long"/>
		<table name="ap_likes_behavior" dataNode="DNBE_$0-2" rule="mod-long"/>
		<table name="ap_read_behavior" dataNode="DNBE_$0-2" rule="mod-long"/>

		<!-- wemedia -->
		<table name="wm_news_statistics" dataNode="DNWM_$0-2" rule="mod-long"/>

		<table name="wm_sub_user" dataNode="DNWM_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<table name="wm_user_auth" dataNode="DNWM_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<table name="wm_user" dataNode="DNWM_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<table name="wm_user_login" dataNode="DNWM_2" autoIncrement="true" primaryKey="id"/>
		<table name="wm_user_equipment" dataNode="DNWM_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>


		<table name="wm_fans_statistics" dataNode="DNWM_$0-2" rule="mod-long"/>


		<table name="wm_fans_portrait" dataNode="DNWM_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id"/>
		<!--addtional-->
		<table name="wm_material" dataNode="DNWM_0" autoIncrement="true" primaryKey="id" />
		<table name="wm_news" dataNode="DNWM_0" autoIncrement="true" primaryKey="id" />
		<table name="wm_news_material" dataNode="DNWM_0" autoIncrement="true" primaryKey="id" />
		<!-- crawlers -->
		<table name="cl_task_exception" dataNode="DNCL_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="cl_task_log" dataNode="DNCL_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="cl_news" dataNode="DNCL_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="cl_news_comments" dataNode="DNCL_$0-2" rule="cl_news_id3" autoIncrement="true" primaryKey="id" />
		<table name="cl_news_material" dataNode="DNCL_$0-2" rule="cl_news_id3" autoIncrement="true" primaryKey="id" />
		<table name="cl_material" dataNode="DNCL_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="cl_news_additional" dataNode="DNCL_$0-2" rule="cl_news_id3" autoIncrement="true" primaryKey="id" />
		<table name="cl_ip_pool" dataNode="DNCL_0" autoIncrement="true" primaryKey="id" />
		<table name="cl_task" dataNode="DNCL_0" autoIncrement="true" primaryKey="id" />
		<!-- admin -->
		<table name="ad_article_statistics" dataNode="DNAD_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="ad_user_opertion" dataNode="DNAD_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="ad_user" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_user_login" dataNode="DNAD_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="ad_user_role" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_user_equipment" dataNode="DNAD_$0-2" rule="mod-long" autoIncrement="true" primaryKey="id" />
		<table name="ad_menu" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_role" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_role_auth" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_vistor_statistics" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_function" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<!--addtional-->
		<table name="ad_channel" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_channel_label" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_label" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_recommend_strategy" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_sensitive" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
		<table name="ad_strategy_group" dataNode="DNAD_0" autoIncrement="true" primaryKey="id" />
	</schema>

	<dataNode name="DNSQ" dataHost="HOST0" database="app_seq" />
	<dataNode name="DNAP_0" dataHost="HOST0" database="app_info_0" />
	<dataNode name="DNAP_1" dataHost="HOST0" database="app_info_1" />
	<dataNode name="DNAP_2" dataHost="HOST0" database="app_info_2" />

	<dataNode name="DNBE_0" dataHost="HOST0" database="app_behavior_0" />
	<dataNode name="DNBE_1" dataHost="HOST0" database="app_behavior_1" />
	<dataNode name="DNBE_2" dataHost="HOST0" database="app_behavior_2" />
	
	<dataNode name="DNWM_0" dataHost="HOST0" database="wemedia_0" />
	<dataNode name="DNWM_1" dataHost="HOST0" database="wemedia_1" />
	<dataNode name="DNWM_2" dataHost="HOST0" database="wemedia_2" />

	<dataNode name="DNCL_0" dataHost="HOST0" database="crawlers_0" />
	<dataNode name="DNCL_1" dataHost="HOST0" database="crawlers_1" />
	<dataNode name="DNCL_2" dataHost="HOST0" database="crawlers_2" />

	<dataNode name="DNAD_0" dataHost="HOST0" database="admin_0" />
	<dataNode name="DNAD_1" dataHost="HOST0" database="admin_1" />
	<dataNode name="DNAD_2" dataHost="HOST0" database="admin_2" />


	<dataHost name="HOST0" maxCon="600" minCon="200" balance="0"
	                  writeType="0" dbType="mysql" dbDriver="native" switchType="1"  slaveThreshold="100">
	        <heartbeat>select user()</heartbeat>
	        <writeHost host="HOST0_M" url="localhost:3306" user="root" password="123456"/>
	</dataHost>

</mycat:schema>